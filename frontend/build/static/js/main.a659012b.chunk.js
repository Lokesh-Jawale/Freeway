(this.webpackJsonpfreeway=this.webpackJsonpfreeway||[]).push([[0],{147:function(e,t,a){},149:function(e,t,a){},150:function(e,t,a){},180:function(e,t,a){},181:function(e,t,a){},182:function(e,t,a){},185:function(e,t,a){},186:function(e,t,a){},187:function(e,t,a){},188:function(e,t,a){},189:function(e,t,a){},190:function(e,t,a){},191:function(e,t,a){},192:function(e,t,a){},193:function(e,t,a){},199:function(e,t,a){"use strict";a.r(t);var s=a(0),n=a.n(s),c=a(36),r=a.n(c),i=(a(147),a(85)),o=a.n(i),l=a(4),d=a(107),j=a(11),u=(a(149),a(25)),b=a(21),m=(a(150),a(125)),h=a.n(m),O=a(1),f=Object(s.createContext)(),x=function(e){var t=e.reducer,a=e.initialState,n=e.children;return Object(O.jsx)(f.Provider,{value:Object(s.useReducer)(t,a),children:n})},g=function(){return Object(s.useContext)(f)},p=a(62),v=(a(157),p.a.initializeApp({apiKey:"AIzaSyCG1EqzGESvuxrwzwOXDc2aBMlqDxpDm6w",authDomain:"freeway-d4894.firebaseapp.com",projectId:"freeway-d4894",storageBucket:"freeway-d4894.appspot.com",messagingSenderId:"979967180165",appId:"1:979967180165:web:844d0ce451f30930e658ec",measurementId:"G-V5RTLZXTQW"}).firestore(),p.a.auth(),p.a.storage()),_=a(50),y=a.n(_),N=y.a.create({baseURL:"https://freeway0.herokuapp.com/api/"});y.a.defaults.baseURL="https://freeway0.herokuapp.com/api/";var w={headers:{"Content-Type":"application/json;charset=UTF-8","Access-Control-Allow-Origin":"*"}},I=function(e){return{headers:{"Content-Type":"application/json;charset=UTF-8","Access-Control-Allow-Origin":"*",authorization:"Bearer ".concat(e)}}},S=function(){return y.a.get("items/all",w).then((function(e){return e})).catch((function(e){return e}))};var C=function(){var e=Object(b.f)(),t=g(),a=Object(j.a)(t,2),n=a[0],c=(n.basket,n.user),r=a[1],i=Object(s.useState)(!1),o=Object(j.a)(i,2),l=o[0],d=o[1],m=Object(s.useState)(!1),f=Object(j.a)(m,2),x=f[0],p=f[1],v=function(e){d(!1),p(!1)};return Object(O.jsx)("div",{className:"header",children:Object(O.jsxs)("header",{children:[Object(O.jsx)(u.b,{to:"/",className:"header__logo",children:Object(O.jsxs)("a",{href:"{/}",children:[Object(O.jsx)("span",{className:"header__logo__first",children:"f"}),Object(O.jsx)("span",{children:"reeway"})]})}),Object(O.jsxs)("nav",{children:[Object(O.jsxs)("ul",{className:l?"header__nav__links":"header__nav__links close",children:[Object(O.jsx)("li",{children:Object(O.jsx)(u.c,{exact:!0,activeClassName:"active",to:"/",className:"inactive",onClick:v,children:"Home"})}),Object(O.jsx)("li",{children:Object(O.jsx)(u.c,{exact:!0,activeClassName:"active",to:"/browse",className:"inactive",onClick:v,children:"Browse"})}),Object(O.jsx)("li",{children:Object(O.jsx)(u.c,{exact:!0,activeClassName:"active",to:"/give",className:"inactive",onClick:v,children:"Give"})}),Object(O.jsx)("li",{children:c?Object(O.jsxs)("div",{className:"dropdown",children:[Object(O.jsxs)("a",{className:"dropbtn",onClick:function(e){p(!x)},children:[c.username," ",Object(O.jsx)("span",{children:" "}),Object(O.jsx)("i",{className:"fa fa-caret-down"})]}),Object(O.jsxs)("div",{className:x?"dropdown-content":"dropdown-content close",children:[Object(O.jsx)("a",{onClick:function(t){d(!l),p(!x),e.push("/donatedItems")},children:"Donated Items"}),Object(O.jsx)("a",{onClick:function(t){d(!l),p(!x),e.push("/requestedItems")},children:"Requested Items"}),Object(O.jsx)("a",{onClick:function(){var t,a;c&&(t=c.accessToken,a=c.email,N.post("auth/logout",{body:{email:a}},I(t)).then((function(e){return e.status})).catch((function(e){return e}))).then((function(t){200==t?(p(!1),d(!1),alert("You have logged out successfully"),e.push("/login"),r({type:"SET_USER",user:null}),localStorage.removeItem("user")):alert("Failed to logout the User")})).catch((function(e){alert("Failed to logout the User")}))},children:"Sign out"})]})]}):Object(O.jsx)(u.c,{to:"/login",className:"inactive",children:"Sign in"})})]}),Object(O.jsx)("label",{className:"checkbtn",onClick:function(e){d(!l)},children:Object(O.jsx)(h.a,{style:{fontSize:40}})})]})]})})};a(180);var E=function(){return Object(O.jsxs)("div",{className:"Footer container-fluid",children:[Object(O.jsx)("p",{className:"lead",children:"Freeway \xa9 2021. All rights reserved."}),Object(O.jsx)("p",{className:"siteName",children:"freeway.com"})]})},T=(a(181),a(226)),k=a(224),D=a(132),B=a(223),q=a(133),U=a(219),R=(a(182),a(129)),F=a(227);var A=function(e){var t=e.id,a=e.donatedBy,s=e.title,n=e.image,c=e.description,r=e.condition,i=e.category,o=e.city,l=e.state,d=e.country,u=g(),m=Object(j.a)(u,2),h=m[0],f=(h.basket,h.user),x=(h.requestedItemId,h.requestedItem,m[1]),p=Object(b.f)();return Object(O.jsx)("div",{className:"item",children:Object(O.jsx)(R.a,{className:"item__container",children:Object(O.jsxs)(F.a,{className:"item__card",children:[Object(O.jsx)(F.a.Img,{className:"item__image",variant:"top",src:n||"http://via.placeholder.com/150x250"}),Object(O.jsxs)(F.a.Body,{className:"item__info",children:[Object(O.jsx)(F.a.Title,{className:"item__title",children:s}),Object(O.jsx)(F.a.Text,{className:"item__description",children:c}),Object(O.jsxs)(F.a.Text,{className:"item__extraInfo",children:[Object(O.jsxs)("div",{children:[Object(O.jsx)("span",{children:"Location "})," : ",o,", ",l,", ",d," "]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("span",{children:"Condition "})," : ",function(){switch(r){case"1":return"Fine";case"2":return"Good";case"3":return"Very Good";case"4":return"Excellent";default:return"Fine"}}()," "]})]}),Object(O.jsx)("button",{type:"button",className:"item__button Buttons btn btn-primary btn-sm",onClick:function(e){if(e.preventDefault(),0==(null===t||void 0===t?void 0:t.length)&&alert("The id is not valid"),f&&(null===t||void 0===t?void 0:t.length)>0){var j={id:t,donatedBy:a,title:s,image:n,description:c,condition:r,category:i,city:o,state:l,country:d};x({type:"SET_REQUESTED_ITEM_ID",requestedItemId:t}),x({type:"SET_REQUESTED_ITEM",requestedItem:j}),p.push("/itemMessage")}else alert("Please sign in to get the item : "+s)},children:"G E T"})]})]})})})},M=a(134),L=a.n(M),P=a(68);var G=function(){var e=g(),t=Object(j.a)(e,2),a=t[0],n=a.basket,c=(a.user,t[1]),r=Object(s.useState)(""),i=Object(j.a)(r,2),o=i[0],l=i[1],d=Object(s.useState)(!0),u=Object(j.a)(d,2),b=u[0],m=u[1],h=Object(s.useState)([]),f=Object(j.a)(h,2),x=f[0],p=f[1];Object(s.useEffect)((function(){S().then((function(e){200==e.status&&(c({type:"ADD_TO_ALL",item:e.data}),p(e.data)),m(!1)})).catch((function(e){m(!1),console.log(e)}))}),[]);var v=function(e){e.preventDefault(),p([]),m(!0);var t=n.filter((function(e){var t;return(null===o||void 0===o?void 0:o.toUpperCase())===(null===e||void 0===e||null===(t=e.city)||void 0===t?void 0:t.toUpperCase())}));p(t),m(!1)};return Object(O.jsxs)("div",{className:"browse",children:[Object(O.jsx)(P.a,{children:Object(O.jsx)("title",{children:"freeway | Browse"})}),Object(O.jsxs)("div",{className:"browse__container",children:[Object(O.jsxs)(T.a,{className:"browse__nav",collapseOnSelect:!0,expand:"lg",children:[Object(O.jsx)(T.a.Brand,{className:"browse__header",children:"Browse"}),Object(O.jsx)(T.a.Toggle,{className:"justify-content-end","aria-controls":"responsive-navbar-nav"}),Object(O.jsx)(T.a.Collapse,{className:"justify-content-end",id:"responsive-navbar-nav",children:Object(O.jsx)(k.a,{children:Object(O.jsx)(D.a,{className:"mt-2 browse__searchBox",children:Object(O.jsxs)(B.a,{className:"d-flex browse__searchBox",children:[Object(O.jsx)(q.a,{type:"search",placeholder:"Search by city",className:"browse__searchInput",value:o,onChange:function(e){return l(e.target.value.trim())},onKeyPress:function(e){13===e.keyCode&&v(e)},"aria-label":"Search"}),Object(O.jsx)("button",{type:"submit",disabled:!o,onClick:v,className:"browse__searchButton Buttons btn btn-primary",children:Object(O.jsx)(L.a,{})})]})})})})]}),Object(O.jsx)("div",{className:"browse__itemContainer row",children:0===(null===x||void 0===x?void 0:x.length)?Object(O.jsx)("div",{children:b?Object(O.jsx)("div",{className:"browse__itemsLoading",children:Object(O.jsx)("div",{className:"spinner-border text-primary"})}):Object(O.jsxs)("div",{children:[Object(O.jsx)("h2",{children:"There are no items currently."}),Object(O.jsx)("p",{children:"Try selecting your city or wait till someone donates something."})]})}):Object(O.jsx)("div",{children:Object(O.jsx)(U.a,{xs:1,md:2,lg:3,xl:4,className:"g-4 browse__itemRow",children:x.map((function(e){return Object(O.jsx)(A,{id:e._id,donatedBy:e.donatedBy,title:e.title,image:e.image,description:e.description,condition:e.condition,category:e.category,city:e.city,state:e.state,country:e.country})}))})})})]})]})},W=(a(185),a(230)),Y=a(220),z=a(231),H=a(222);var V=function(e){return Object(O.jsxs)(H.a,Object(l.a)(Object(l.a)({},e),{},{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(O.jsx)(H.a.Header,{closeButton:!0,children:Object(O.jsx)(H.a.Title,{id:"contained-modal-title-vcenter",children:"Terms and Conditions"})}),Object(O.jsx)(H.a.Body,{children:Object(O.jsxs)("p",{children:["All users must be of at least the age of 13, and agree to not use freeway for bad purpose.",Object(O.jsx)("br",{}),"Conditions",Object(O.jsx)("br",{}),"- We reserve the right to modify or terminate the Upload Files service for any reason, without notice at any time.",Object(O.jsx)("br",{}),"- We reserve the right to alter these Terms of Use at any time.",Object(O.jsx)("br",{}),"- We reserve the right to refuse service to anyone for any reason at any time.",Object(O.jsx)("br",{}),"- We may, but have no obligation to, remove Content and accounts containing Content that we determine in our sole discretion are unlawful, offensive, threatening, libelous, defamatory, obscene or otherwise objectionable or violates any party's intellectual property or these Terms of Use.",Object(O.jsx)("br",{}),"- If a user is found to be using Upload Files to host icons, smileys, buddy icons, forum avatars, forum badges, forum signature images, or any other graphic for website design all your images will be removed.",Object(O.jsx)("br",{}),Object(O.jsx)("br",{}),"Copyright Information",Object(O.jsx)("br",{}),"Upload Files will review all copyright \xa9 infringement claims received and remove files found to have been upload or distributed in violation of any such laws. To make a valid claim you must provide Upload Files with the following information:",Object(O.jsx)("br",{}),"- A physical or electronic signature of the copyright owner or the person authorized to act on its behalf;",Object(O.jsx)("br",{}),"- A description of the copyrighted work claimed to have been infringed;",Object(O.jsx)("br",{}),"- A description of the infringing material and information reasonably sufficient to permit Upload Files to locate the material;",Object(O.jsx)("br",{}),"- Your contact information, including your address, telephone number, and email;",Object(O.jsx)("br",{}),Object(O.jsx)("br",{}),"Claims can be sent to us via the report abuse page."]})}),Object(O.jsx)(H.a.Footer,{children:Object(O.jsx)(Y.a,{onClick:e.onHide,children:"Close"})})]}))};var J=function(){var e=Object(b.f)(),t=g(),a=Object(j.a)(t,2),n=a[0],c=n.basket,r=n.user,i=(a[1],Object(s.useState)(!1)),o=Object(j.a)(i,2),l=o[0],d=o[1],u=Object(s.useState)(""),m=Object(j.a)(u,2),h=(m[0],m[1],Object(s.useState)("")),f=Object(j.a)(h,2),x=f[0],p=f[1],_=Object(s.useState)("Others"),y=Object(j.a)(_,2),w=y[0],S=y[1],C=Object(s.useState)(""),E=Object(j.a)(C,2),T=E[0],k=E[1],D=Object(s.useState)(""),q=Object(j.a)(D,2),F=q[0],A=q[1],M=Object(s.useState)(""),L=Object(j.a)(M,2),G=L[0],H=L[1],J=Object(s.useState)(""),Q=Object(j.a)(J,2),K=Q[0],X=Q[1],Z=Object(s.useState)("Fine"),$=Object(j.a)(Z,2),ee=$[0],te=$[1],ae=Object(s.useState)(""),se=Object(j.a)(ae,2),ne=se[0],ce=se[1],re=Object(s.useState)(""),ie=Object(j.a)(re,2),oe=ie[0],le=ie[1],de=Object(s.useState)(0),je=Object(j.a)(de,2),ue=je[0],be=je[1],me=Object(s.useState)(!1),he=Object(j.a)(me,2),Oe=he[0],fe=he[1],xe=Object(s.useState)(!1),ge=Object(j.a)(xe,2),pe=(ge[0],ge[1]),ve=function(){if(r){pe(!0);null===c||void 0===c||c.length;var t={donatedBy:null===r||void 0===r?void 0:r.email,title:x,image:oe,description:T,condition:ee,category:w,city:F,state:G,country:K};(function(e,t){return N.post("items/add",{itemData:e},I(t)).then((function(e){return e.status})).catch((function(e){return e}))})(t=JSON.stringify(t),r.accessToken).then((function(t){200==t&&(pe(!1),alert("Item Donated Successfully!"),e.push("/browse"))})).catch((function(e){console.error("Error writing document: ",e)}))}else alert("Please sign in to add the item to the Basket")},_e=Object(s.useState)(!1),ye=Object(j.a)(_e,2),Ne=ye[0],we=ye[1];return Object(O.jsxs)("div",{className:"give",children:[Object(O.jsx)(P.a,{children:Object(O.jsx)("title",{children:"freeway | Give"})}),Object(O.jsx)("div",{className:"give__donateHeader",children:Object(O.jsx)("h2",{children:"Donate"})}),Object(O.jsxs)(B.a,{className:"give__formContainer",validated:Ne,children:[Object(O.jsxs)(U.a,{className:"give__formRow mb-4",children:[Object(O.jsxs)(B.a.Group,{as:R.a,md:"4",controlId:"validationCustom01",children:[Object(O.jsx)(B.a.Label,{className:"give__form__labels",children:"Title of Object *"}),Object(O.jsx)(B.a.Control,{className:"give__form__inputs",required:!0,type:"text",placeholder:"Title of the object (max 50 letters)",maxLength:"60",value:x,onChange:function(e){return p(e.target.value)}}),Object(O.jsx)(B.a.Control.Feedback,{type:"invalid",children:"Please provide a valid title."})]}),Object(O.jsxs)(B.a.Group,{as:R.a,md:"4",controlId:"validationCustom02",children:[Object(O.jsx)(B.a.Label,{className:"give__form__labels",children:"Category"}),Object(O.jsxs)(B.a.Select,{className:"give__form__inputs","aria-label":"Default select example",value:w,onChange:function(e){return S(e.target.value)},children:[Object(O.jsx)("option",{value:"Others",children:"Others"}),Object(O.jsx)("option",{value:"Electronics",children:"Electronics"}),Object(O.jsx)("option",{value:"Clothes",children:"Clothes"}),Object(O.jsx)("option",{value:"Books",children:"Books"}),Object(O.jsx)("option",{value:"Daily usables",children:"Daily usables"}),Object(O.jsx)("option",{value:"furniture",children:"furniture"}),Object(O.jsx)("option",{value:"Wearables",children:"Wearables"}),Object(O.jsx)("option",{value:"Home appliances",children:"Home appliances"}),Object(O.jsx)("option",{value:"Handicaped Supplies",children:"Handicaped Supplies"})]}),Object(O.jsx)(B.a.Control.Feedback,{type:"invalid",children:"Please select a Category."})]})]}),Object(O.jsx)(U.a,{className:"give__formRow mb-3",children:Object(O.jsxs)(B.a.Group,{as:R.a,md:"6",controlId:"validationCustom03",children:[Object(O.jsx)(B.a.Label,{className:"give__form__labels",children:"Description *"}),Object(O.jsx)(B.a.Control,{className:"give__form__inputs",required:!0,type:"text",placeholder:"Give a description (max letters 200)",maxLength:"200",as:"textarea",rows:3,value:T,onChange:function(e){return k(e.target.value)}}),Object(O.jsx)(B.a.Control.Feedback,{type:"invalid",children:"Please give a description."})]})}),Object(O.jsxs)(U.a,{className:"give__formRow mb-4",children:[Object(O.jsxs)(B.a.Group,{as:R.a,md:"3",controlId:"validationCustom04",children:[Object(O.jsx)(B.a.Label,{className:"give__form__labels",children:"City *"}),Object(O.jsx)(B.a.Control,{className:"give__form__inputs",type:"text",placeholder:"City",required:!0,maxLength:"50",value:F,onChange:function(e){return A(e.target.value)}}),Object(O.jsx)(B.a.Control.Feedback,{type:"invalid",children:"Please provide a valid city."})]}),Object(O.jsxs)(B.a.Group,{as:R.a,md:"3",controlId:"validationCustom05",children:[Object(O.jsx)(B.a.Label,{className:"give__form__labels",children:"State *"}),Object(O.jsx)(B.a.Control,{className:"give__form__inputs",type:"text",placeholder:"State",required:!0,maxLength:"50",value:G,onChange:function(e){return H(e.target.value)}})]}),Object(O.jsxs)(B.a.Group,{as:R.a,md:"3",controlId:"validationCustom06",children:[Object(O.jsx)(B.a.Label,{className:"give__form__labels",children:"Country *"}),Object(O.jsx)(B.a.Control,{className:"give__form__inputs",type:"text",placeholder:"Country",required:!0,maxLength:"50",value:K,onChange:function(e){return X(e.target.value)}}),Object(O.jsx)(B.a.Control.Feedback,{type:"invalid",children:"Please provide a valid Country name."})]})]}),Object(O.jsxs)(U.a,{className:"give__formRow mb-4",children:[Object(O.jsxs)(B.a.Group,{as:R.a,md:"4",controlId:"validationCustom06",children:[Object(O.jsx)(B.a.Label,{className:"give__form__labels",children:"Condition *"}),Object(O.jsxs)(B.a.Select,{className:"give__form__inputs","aria-label":"Default select example",value:ee,onChange:function(e){return te(e.target.value)},children:[Object(O.jsx)("option",{value:"1",children:"Fine"}),Object(O.jsx)("option",{value:"2",children:"Good"}),Object(O.jsx)("option",{value:"3",children:"Very Good"}),Object(O.jsx)("option",{value:"4",children:"Excellent"})]})]}),Object(O.jsxs)(B.a.Group,{as:R.a,md:"4",controlId:"formFile",children:[Object(O.jsx)(B.a.Label,{className:"give__form__labels",children:"Upload a picture *"}),Object(O.jsxs)(W.a,{className:"mb-3",children:[Object(O.jsx)(B.a.Control,{className:"give__form__inputsImage",type:"file",required:!0,onChange:function(e){return ce(e.target.files[0])}}),Object(O.jsx)(B.a.Control.Feedback,{type:"invalid",children:"Please upload a picture of the giveaway object."}),Object(O.jsx)(Y.a,{className:"give__form__inputsUploadButton",disabled:!ne,onClick:function(e){e.preventDefault();var t=null===c||void 0===c||c.length,a=new Date;if(t=a.toDateString()+a.getTime().toString(),""===ne)return console.error("Not an image, the image file is a ".concat(typeof ne)),void alert(e.target.files[0]+"         dfjafj    "+ne);v.ref("images/"+t).put(ne).on("state_changed",(function(e){var t=Math.round(e.bytesTransferred/e.totalBytes*100);be(t)}),(function(e){console.log(e)}),(function(){v.ref("images").child(t).getDownloadURL().then((function(e){le(e),console.log("THE IMAGE URL IS "+oe)}))})),console.log("Done ")},children:"Upload"})]}),ne?Object(O.jsx)(z.a,{animated:!0,now:ue,max:"100",label:"".concat(ue,"%")}):Object(O.jsx)("span",{})]}),Object(O.jsx)(B.a.Group,{as:R.a,controlId:"formFileButton"})]}),Object(O.jsx)("hr",{}),Object(O.jsxs)("div",{className:"give__form__submit",children:[x&&oe&&T&&F&&G&&K&&Oe?Object(O.jsx)("span",{}):Object(O.jsx)("p",{children:"Please fill all the necessary fields and upload image of item to donate the item"}),Object(O.jsxs)(B.a.Group,{className:"terms mb-4",children:[Object(O.jsx)("input",{className:"give__form__agree",type:"checkbox",inline:!0,required:!0,onChange:function(e){return fe(e.target.checked)}}),Object(O.jsx)(B.a.Control.Feedback,{type:"invalid",children:"You must agree before submitting."}),Object(O.jsxs)("span",{children:["Agree to our ",Object(O.jsx)("span",{className:"tnc",onClick:function(){return d(!0)},children:"Terms & Conditions"})]})]}),Object(O.jsx)(Y.a,{disabled:!(x&&oe&&T&&F&&G&&K&&Oe),onClick:function(e){e.preventDefault(),console.log("Form being submitted : ",oe),!1===e.currentTarget.checkValidity()?(e.preventDefault(),e.stopPropagation()):(we(!0),ve())},className:"donateButton mb-2",type:"submit",children:"Donate"})]})]}),Object(O.jsx)(V,{show:l,onHide:function(){return d(!1)}})]})},Q=(a(186),a.p+"static/media/heartzz.819a4f69.png");var K=function(){return Object(O.jsx)("div",{className:"home",children:Object(O.jsx)("div",{className:"container-fluid",children:Object(O.jsxs)("div",{className:"row",children:[Object(O.jsxs)("div",{className:"left col-lg-7",children:[Object(O.jsxs)("h1",{children:[Object(O.jsx)("span",{children:"W e l c o m e"})," Give Free, Take Free"]}),Object(O.jsx)("div",{className:"home__info",children:Object(O.jsx)("p",{children:"Starting a mission of free sharing cycle (with Give free, take free moto in mind) in order to help people, reduce waste and save resources."})}),Object(O.jsxs)("div",{className:"home__buttons",children:[Object(O.jsx)(u.b,{to:"/give",children:Object(O.jsx)("button",{type:"button",className:"Buttons btn btn-success",children:"G I V E"})}),Object(O.jsx)("span",{children:"  OR  "}),Object(O.jsx)(u.b,{to:"/browse",children:Object(O.jsx)("button",{type:"button",className:"Buttons btn btn-primary",children:"B R O W S E"})})]})]}),Object(O.jsx)("div",{className:"right col-lg-5",children:Object(O.jsx)("img",{src:Q,alt:"Image is not available"})})]})})})};a(187);var X=function(){var e=Object(b.f)(),t=Object(s.useState)(""),a=Object(j.a)(t,2),n=a[0],c=a[1],r=Object(s.useState)(""),i=Object(j.a)(r,2),o=i[0],d=i[1],m=g(),h=Object(j.a)(m,2),f=h[0],x=(f.basket,f.user,h[1]);return Object(O.jsx)("div",{className:"login container-fluid",children:Object(O.jsxs)("div",{className:"login__container",children:[Object(O.jsx)(u.b,{to:"/",className:"login__logo",children:Object(O.jsxs)("a",{href:"{/}",children:[Object(O.jsx)("span",{className:"login__logo__first",children:"f"}),Object(O.jsx)("span",{children:"reeway"})]})}),Object(O.jsx)("h1",{children:"Sign-in"}),Object(O.jsxs)("form",{className:"login_form",children:[Object(O.jsx)("h6",{children:"E-mail"}),Object(O.jsx)("input",{className:"login__formInputs",type:"text",value:n,onChange:function(e){return c(e.target.value)}}),Object(O.jsx)("h6",{children:"Password"}),Object(O.jsx)("input",{className:"login__formInputs",type:"password",value:o,onChange:function(e){return d(e.target.value)}}),Object(O.jsx)("button",{type:"submit",className:"login__signInButton",onClick:function(t){t.preventDefault(),function(e,t){return y.a.post("auth/login",{email:e,password:t},w).then((function(e){return e})).catch((function(e){return e}))}(n,o).then((function(t){if(200===t.status){var a=t.data,s=Object(l.a)(Object(l.a)({},a.user),{},{accessToken:a.accessToken,refreshToken:a.refreshToken});x({type:"SET_USER",user:s}),localStorage.setItem("user",JSON.stringify(s)),alert("You have Logged in successfully"),e.push("/")}else alert("Failed to login user")})).catch((function(e){alert(e)}))},children:"Sign In"})]}),Object(O.jsx)("p",{className:"login__tnc",children:"By signing-in you agree to the FREEWAY terms and conditions. The intent to collect data from you is to only identify you, We don't do misuse of user data."}),Object(O.jsx)(u.b,{to:"/createNewUser",children:Object(O.jsx)("button",{className:"login__registerButton",children:"Create your new account"})})]})})};a(188);var Z=function(){var e=Object(b.f)(),t=Object(s.useState)(""),a=Object(j.a)(t,2),n=a[0],c=a[1],r=Object(s.useState)(""),i=Object(j.a)(r,2),o=i[0],l=i[1],d=Object(s.useState)(""),m=Object(j.a)(d,2),h=m[0],f=m[1];return Object(O.jsx)("div",{className:"login container-fluid",children:Object(O.jsxs)("div",{className:"login__container",children:[Object(O.jsx)(u.b,{to:"/",className:"login__logo",children:Object(O.jsxs)("a",{href:"{/}",children:[Object(O.jsx)("span",{className:"login__logo__first",children:"f"}),Object(O.jsx)("span",{children:"reeway"})]})}),Object(O.jsx)("h1",{children:"Create New Account"}),Object(O.jsxs)("form",{className:"login_form",children:[Object(O.jsx)("h6",{children:"Username"}),Object(O.jsx)("input",{className:"login__formInputs",type:"text",value:h,required:!0,onChange:function(e){return f(e.target.value)}}),Object(O.jsx)("h6",{children:"E-mail"}),Object(O.jsx)("input",{className:"login__formInputs",type:"text",value:n,required:!0,onChange:function(e){return c(e.target.value)}}),Object(O.jsx)("h6",{children:"Password"}),Object(O.jsx)("input",{className:"login__formInputs",type:"password",value:o,required:!0,onChange:function(e){return l(e.target.value)}})]}),Object(O.jsx)("p",{children:"By creating your account you agree to the FREEWAY terms and conditions. The intent to collect data from you is to only identify you, We don't do misuse of user data."}),Object(O.jsx)("button",{onClick:function(t){(t.preventDefault(),!1===t.currentTarget.checkValidity())?(t.preventDefault(),t.stopPropagation(),alert("Please fill all the fields")):function(e){return y.a.post("auth/register",{username:e.username,email:e.email,password:e.password},w).then((function(e){return e.data})).catch((function(e){return e}))}({username:h,email:n,password:o}).then((function(t){t.username?(alert("You have registered Successfully."),e.push("/login")):alert("Failed to register")})).catch((function(e){return console.log(e)}))},className:"login__registerButton",children:"Create your new account"})]})})};a(189);var $=function(){return Object(O.jsxs)("div",{className:"about container-fluid",children:[Object(O.jsx)("h3",{children:"About us"}),Object(O.jsxs)("p",{children:[" At ",Object(O.jsx)("a",{href:"/",children:"freeway.com"})," (nonprofit site), We connect people who want to contribute to the reduction of the waste and saving precious resources by giving away the stuff that you don't need anymore to needy people and getting stuff for free by browsing through the donated things. Please don't SPAM the site (with improper donation or messaging) in any way. Use freeway.com for everyone's benefit. Hope you have great experience using freeway.com."]}),Object(O.jsx)("br",{}),Object(O.jsx)("h5",{children:"Enjoy freeway!"})]})};a(190);var ee=function(){var e=g(),t=Object(j.a)(e,2),a=t[0],n=(a.user,a.requestedItems),c=t[1];return Object(s.useEffect)((function(){S().then((function(e){200==e.status&&c({type:"ADD_TO_ALL",item:e.data})})).catch((function(e){console.log(e)}))}),[]),Object(O.jsx)("div",{className:"requestedItems",children:Object(O.jsxs)("div",{className:"requestedItems__container row",children:[Object(O.jsx)("h3",{children:"Your Requested Items : "}),0===(null===n||void 0===n?void 0:n.length)?Object(O.jsxs)("div",{children:[Object(O.jsx)("h4",{children:"You haven't requested anything yet."}),Object(O.jsx)("p",{children:"Request items you need and when you message them to get it, the item will appear here"})]}):Object(O.jsx)("div",{children:Object(O.jsx)(U.a,{xs:1,md:2,lg:4,className:"g-4",children:n.map((function(e){return Object(O.jsx)(A,{id:e.id,donatedBy:e.donatedBy,title:e.title,image:e.image,description:e.description,condition:e.condition,category:e.category,city:e.city,state:e.state,country:e.country})}))})})]})})};a(191);var te=function(){var e=g(),t=Object(j.a)(e,2),a=t[0],n=a.donatedItems,c=(a.user,t[1]);return Object(s.useEffect)((function(){S().then((function(e){200==e.status&&c({type:"ADD_TO_ALL",item:e.data})})).catch((function(e){console.log(e)}))}),[]),Object(O.jsx)("div",{className:"donatedItems",children:Object(O.jsxs)("div",{className:"donatedItems__container row",children:[Object(O.jsx)("h3",{children:"Your Donated Items : "}),0===(null===n||void 0===n?void 0:n.length)?Object(O.jsxs)("div",{children:[Object(O.jsx)("h4",{children:"You haven't donated anything yet."}),Object(O.jsx)("p",{children:"Donate things that you don't need anymore or you don't use much to the people in need"})]}):Object(O.jsx)("div",{children:Object(O.jsx)(U.a,{xs:1,md:2,lg:4,className:"g-4",children:n.map((function(e){return Object(O.jsx)(A,{id:e.id,donatedBy:e.donatedBy,title:e.title,image:e.image,description:e.description,condition:e.condition,category:e.category,city:e.city,state:e.state,country:e.country})}))})})]})})},ae=a(60);a(192),a(193);var se=function(e){var t=e.sender,a=e.message,s=g(),n=Object(j.a)(s,1)[0].user;return Object(O.jsx)("div",{className:"message",children:(null===n||void 0===n?void 0:n.email)===t?Object(O.jsx)("div",{className:"message__container",children:Object(O.jsxs)("div",{className:"user__message",children:[Object(O.jsx)("span",{children:a}),Object(O.jsx)("br",{}),Object(O.jsxs)("p",{className:"message__sender",children:["~",t]})]})}):Object(O.jsx)("div",{className:"message__container",children:Object(O.jsxs)("div",{className:"nonUser__message",children:[Object(O.jsx)("span",{children:a}),Object(O.jsx)("br",{}),Object(O.jsxs)("p",{className:"message__sender",children:["~",t]})]})})})},ne=a(221),ce=a(228),re=a(229),ie=a(225),oe=a(140);var le=function(){var e=g(),t=Object(j.a)(e,2),a=t[0],n=a.user,c=a.requestedItemId,r=a.requestedItem,i=(a.inProcessItems,t[1]),o=Object(s.useState)(""),l=Object(j.a)(o,2),d=l[0],u=l[1],m=Object(s.useState)([]),h=Object(j.a)(m,2),f=h[0],x=h[1],p=Object(s.useState)(null),v=Object(j.a)(p,2),_=v[0],y=v[1],w=Object(s.useState)(null),S=Object(j.a)(w,2),C=S[0],E=S[1],T=Object(s.useState)(!0),k=Object(j.a)(T,2),D=k[0],B=k[1],q=Object(s.useRef)(null),R=Object(s.useRef)(),F=Object(b.f)(),M={rememberUpgrade:!0,transports:["websocket","polling","flashsocket"],secure:!0,rejectUnauthorized:!1};return Object(s.useEffect)((function(){R.current=Object(oe.a)("https://freeway0.herokuapp.com",M),c&&localStorage.setItem("requestedItemId",c),!c&&i({type:"SET_REQUESTED_ITEM_ID",requestedItemId:localStorage.getItem("requestedItemId")}),!c&&F.push("/browse"),R.current.emit("join-room",c),R.current.on("get-message",(function(e){y({senderId:e.senderId,conversationId:e.roomId,senderEmail:e.senderEmail,message:e.message})})),!C&&E(!0)}),[]),Object(s.useEffect)((function(){var e;null===(e=q.current)||void 0===e||e.scrollIntoView({behavior:"smooth",block:"nearest",inline:"start"})}),[f]),Object(s.useEffect)((function(){var e,t;(e=c,t=n.accessToken,N.get("messages/".concat(e),I(t)).then((function(e){return e.data})).catch((function(e){console.log(e)}))).then((function(e){x(e),B(!1)})).catch((function(e){console.log(e),B(!1)}))}),[C]),Object(s.useEffect)((function(){_&&x([].concat(Object(ae.a)(f),[_]))}),[_]),Object(O.jsxs)("div",{className:"row itemMessage container-fluid",children:[Object(O.jsx)("hr",{}),Object(O.jsx)("h1",{children:"Messages"}),Object(O.jsx)("div",{className:"itemMessage__itemReview col-md-4",children:Object(O.jsx)(A,{id:r.id,donatedBy:r.donatedBy,title:r.title,image:r.image,description:r.description,condition:r.condition,category:r.category,city:r.city,state:r.state,country:r.country})}),Object(O.jsxs)("div",{className:"itemMessage__container col-md-8",children:[(null===f||void 0===f?void 0:f.length)>0?Object(O.jsx)("div",{className:"itemMessage__messages",children:Object(O.jsx)(U.a,{xs:1,md:1,lg:1,className:"itemMessage__message",children:null===f||void 0===f?void 0:f.map((function(e){return Object(O.jsx)("div",{ref:q,children:Object(O.jsx)(se,{sender:e.senderEmail,message:e.message})})}))})}):Object(O.jsx)("div",{className:"itemMessage__messages messages__loading",children:D?Object(O.jsx)("div",{className:"spinner-border text-primary"}):Object(O.jsx)("div",{className:"itemMessage__messages",children:"There are no messages yet "})}),Object(O.jsx)("div",{className:"itemMessage__compose",children:Object(O.jsx)("form",{children:Object(O.jsxs)(ne.a,{className:"itemMessage__form",children:[Object(O.jsx)(ce.a,{className:"itemMessage__input",children:"Type a message..."}),Object(O.jsx)(re.a,{value:d,onChange:function(e){return u(e.target.value)}}),Object(O.jsx)(ie.a,{className:"itemMessage__button",type:"submit",disabled:!d,onClick:function(e){if(e.preventDefault(),(null===c||void 0===c?void 0:c.length)>0){var t={conversationId:c,senderId:null===n||void 0===n?void 0:n._id,message:d,senderEmail:null===n||void 0===n?void 0:n.email};x([].concat(Object(ae.a)(f),[t])),u(""),function(e,t){return N.post("messages/add",{messageData:e},I(t)).then((function(e){return e.data})).catch((function(e){return e}))}(JSON.stringify(t),n.accessToken).then((function(e){R.current.emit("send-message",null===n||void 0===n?void 0:n._id,null===n||void 0===n?void 0:n.email,c,d)})).catch((function(e){alert("Internal Server Error while saving the message"),console.log(e)}))}},variant:"contained",color:"primary",children:"SEND"})]})})})]})]})},de=a(139);y.a.defaults.baseURL="https://freeway0.herokuapp.com/api/";var je=function(){var e=g(),t=Object(j.a)(e,2),a=t[0],n=(a.basket,a.user),c=t[1],r=function(){var e=Object(d.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.post("/refresh",{user:n});case 3:return t=e.sent,a=Object(l.a)(Object(l.a)({},n),{},{accessToken:t.data.accessToken,refreshToken:t.data.refreshToken}),c({type:"SET_USER",user:a}),localStorage.setItem("user",JSON.stringify(a)),e.abrupt("return",t.data);case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();return N.interceptors.request.use(function(){var e=Object(d.a)(o.a.mark((function e(t){var a,s,n,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=null===(a=JSON.parse(localStorage.getItem("user")))||void 0===a?void 0:a.accessToken){e.next=3;break}return e.abrupt("return",t);case 3:if(n=new Date,!(1e3*Object(de.a)(s).exp<n.getTime())){e.next=10;break}return e.next=8,r();case 8:c=e.sent,t.headers.authorization="Bearer "+c.accessToken;case 10:return e.abrupt("return",t);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){return Promise.reject(e)})),Object(s.useEffect)((function(){try{var e=JSON.parse(localStorage.getItem("user"));c({type:"SET_USER",user:e})}catch(t){}}),[]),Object(O.jsxs)("div",{className:"App",children:[Object(O.jsx)(P.a,{children:Object(O.jsx)("title",{children:"freeway.com"})}),Object(O.jsx)(u.a,{children:Object(O.jsxs)(b.c,{children:[Object(O.jsxs)(b.a,{exact:!0,path:"/",children:[Object(O.jsx)(C,{}),Object(O.jsx)(K,{}),Object(O.jsx)($,{}),Object(O.jsx)(E,{})]}),Object(O.jsxs)(b.a,{exact:!0,path:"/browse",children:[Object(O.jsx)(C,{}),Object(O.jsx)(G,{}),Object(O.jsx)($,{}),Object(O.jsx)(E,{})]}),Object(O.jsxs)(b.a,{exact:!0,path:"/give",children:[Object(O.jsx)(C,{}),Object(O.jsx)(J,{}),Object(O.jsx)($,{}),Object(O.jsx)(E,{})]}),Object(O.jsx)(b.a,{exact:!0,path:"/login",children:Object(O.jsx)(X,{})}),Object(O.jsx)(b.a,{exact:!0,path:"/createNewUser",children:Object(O.jsx)(Z,{})}),Object(O.jsxs)(b.a,{exact:!0,path:"/requestedItems",children:[Object(O.jsx)(C,{}),Object(O.jsx)(ee,{}),Object(O.jsx)($,{}),Object(O.jsx)(E,{})]}),Object(O.jsxs)(b.a,{exact:!0,path:"/itemMessage",children:[Object(O.jsx)(C,{}),Object(O.jsx)(le,{}),Object(O.jsx)($,{}),Object(O.jsx)(E,{})]}),Object(O.jsxs)(b.a,{exact:!0,path:"/donatedItems",children:[Object(O.jsx)(C,{}),Object(O.jsx)(te,{}),Object(O.jsx)($,{}),Object(O.jsx)(E,{})]})]})})]})},ue=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,232)).then((function(t){var a=t.getCLS,s=t.getFID,n=t.getFCP,c=t.getLCP,r=t.getTTFB;a(e),s(e),n(e),c(e),r(e)}))},be=(a(198),function(e,t){switch(t.type){case"ADD_TO_BASKET":return Object(l.a)(Object(l.a)({},e),{},{basket:t.item});case"ADD_TO_ALL":var a=t.item.filter((function(t){var a;return(null===(a=e.user)||void 0===a?void 0:a.email)===t.donatedBy})),s=t.item.filter((function(t){var a,s,n;return(null===(a=e.user)||void 0===a||null===(s=a.requestedItems)||void 0===s?void 0:s.includes(t._id))&&(null===(n=e.user)||void 0===n?void 0:n.email)!==t.donatedBy}));return Object(l.a)(Object(l.a)({},e),{},{donatedItems:a,basket:t.item,requestedItems:s});case"ADD_TO_INPROCESSITEMS":return Object(l.a)(Object(l.a)({},e),{},{inProcessItems:[].concat(Object(ae.a)(e.inProcessItems),[t.item])});case"ADD_TO_REQUESTEDITEMS":return Object(l.a)(Object(l.a)({},e),{},{requestedItems:[].concat(Object(ae.a)(e.requestedItems),[t.item])});case"REMOVE_FROM_BASKET":var n=Object(ae.a)(e.basket),c=e.basket.findIndex((function(e){return e.id===t.id}));return c>=0&&n.splice(c,1),Object(l.a)(Object(l.a)({},e),{},{basket:n});case"SET_USER":return Object(l.a)(Object(l.a)({},e),{},{user:t.user});case"SET_REQUESTED_ITEM_ID":return Object(l.a)(Object(l.a)({},e),{},{requestedItemId:t.requestedItemId});case"SET_REQUESTED_ITEM":return Object(l.a)(Object(l.a)({},e),{},{requestedItem:t.requestedItem});case"ADD_TO_MESSAGES":return Object(l.a)(Object(l.a)({},e),{},{messages:[].concat(Object(ae.a)(e.messages),[t.item])});case"REMOVE_REQUESTEDITEMS":return Object(l.a)(Object(l.a)({},e),{},{requestedItems:[],inProcessItems:[]});case"EMPTY":return Object(l.a)(Object(l.a)({},e),{},{basket:[],donatedItems:[],recievedItem:[],inProcessItems:[]});case"EMPTY_BASKET":return Object(l.a)(Object(l.a)({},e),{},{basket:[]});default:return e}});r.a.render(Object(O.jsx)(n.a.StrictMode,{children:Object(O.jsx)(x,{initialState:{basket:[],user:null,donatedItems:[],inProcessItems:[],requestedItems:[],messages:[],requestedItemId:null,requestedItem:null},reducer:be,children:Object(O.jsx)(je,{})})}),document.getElementById("root")),ue()}},[[199,1,2]]]);
//# sourceMappingURL=main.a659012b.chunk.js.map